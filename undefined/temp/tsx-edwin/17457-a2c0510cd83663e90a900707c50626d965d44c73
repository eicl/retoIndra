{"code":"(()=>{\nvar __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __hasOwnProp=Object.prototype.hasOwnProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:true})};var __copyProps=(to,from,except,desc)=>{if(from&&typeof from===\"object\"||typeof from===\"function\"){for(let key of __getOwnPropNames(from))if(!__hasOwnProp.call(to,key)&&key!==except)__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable})}return to};var __toCommonJS=mod=>__copyProps(__defProp({},\"__esModule\",{value:true}),mod);var DynamoDBRepository_exports={};__export(DynamoDBRepository_exports,{DynamoDBRepository:()=>DynamoDBRepository});module.exports=__toCommonJS(DynamoDBRepository_exports);var import_aws_sdk=require(\"aws-sdk\");var import_env=require(\"../../config/env\");class DynamoDBRepository{static{__name(this,\"DynamoDBRepository\")}client;tableName;constructor(){this.client=new import_aws_sdk.DynamoDB.DocumentClient;this.tableName=import_env.Env.DYNAMODB_TABLE}async save(appointment){const params={TableName:this.tableName,Item:appointment};await this.client.put(params).promise()}async getByInsuredId(insuredId){const params={TableName:this.tableName,KeyConditionExpression:\"insuredId = :insuredId\",ExpressionAttributeValues:{\":insuredId\":insuredId}};const result=await this.client.query(params).promise();return result.Items}async updateAppointmentStatus(insuredId,status){const params={TableName:this.tableName,Key:{insuredId},UpdateExpression:\"SET #s = :status\",ExpressionAttributeNames:{\"#s\":\"status\"},ExpressionAttributeValues:{\":status\":status}};await this.client.update(params).promise()}}0&&(module.exports={DynamoDBRepository});\n})()\n","warnings":[],"map":{"version":3,"mappings":";suBAAA,8LAAyB,mBAGzB,eAAoB,4BAEb,MAAM,kBAAoD,CALjE,MAKiE,mCACvD,OACA,UAER,aAAc,CACZ,KAAK,OAAS,IAAI,wBAAS,eAC3B,KAAK,UAAY,eAAI,cACvB,CAGA,MAAM,KAAK,YAAyC,CAClD,MAAM,OAAS,CACb,UAAW,KAAK,UAChB,KAAM,WACR,EAEA,MAAM,KAAK,OAAO,IAAI,MAAM,EAAE,QAAQ,CACxC,CAGA,MAAM,eAAe,UAA2C,CAC9D,MAAM,OAAS,CACb,UAAW,KAAK,UAChB,uBAAwB,yBACxB,0BAA2B,CACzB,aAAc,SAChB,CACF,EAEA,MAAM,OAAS,MAAM,KAAK,OAAO,MAAM,MAAM,EAAE,QAAQ,EACvD,OAAO,OAAO,KAChB,CAGA,MAAM,wBAAwB,UAAmB,OAA+B,CAC9E,MAAM,OAAS,CACb,UAAW,KAAK,UAChB,IAAK,CAAE,SAAU,EACjB,iBAAkB,mBAClB,yBAA0B,CACxB,KAAM,QACR,EACA,0BAA2B,CACzB,UAAW,MACb,CACF,EAEA,MAAM,KAAK,OAAO,OAAO,MAAM,EAAE,QAAQ,CAC3C,CACF","names":[],"ignoreList":[],"sources":["C:\\practicas\\fuentes\\medical-appointment-backend\\src\\infrastructure\\db\\DynamoDBRepository.ts"],"sourcesContent":[null]}}